# Veil Backend — Environment Variables
# Copy to .env and fill in values. NEVER commit .env to version control.
#
# Generate secrets:
#   openssl rand -hex 32  (for DB_PASSWORD, TURN_SECRET)
#   openssl rand -hex 64  (for JWT_SECRET)
#
# Or use scripts/deploy.sh which generates everything automatically.

# ── Secrets ──────────────────────────────────────────────
DB_PASSWORD=              # openssl rand -hex 32
JWT_SECRET=               # openssl rand -hex 64
TURN_SECRET=              # openssl rand -hex 32

# ── Network ──────────────────────────────────────────────
SERVER_IP=127.0.0.1               # Public IP of the VPS (used by SIP, RTP, TURN)
XMPP_DOMAIN=example.com           # Domain for XMPP JIDs (user@domain)
SIP_DOMAIN=example.com            # SIP domain (usually same as XMPP_DOMAIN)
TURN_DOMAIN=example.com           # TURN server domain (usually same as XMPP_DOMAIN)
HTTP_UPLOAD_DOMAIN=upload.example.com  # File upload subdomain

# XMPP connection info returned by /api/v1/server/info
XMPP_HOST=example.com             # Hostname clients connect to for XMPP
XMPP_WS_URL=wss://example.com:5280/ws  # WebSocket URL for XMPP

# ── Push Notifications (optional) ────────────────────────
APNS_KEY_PATH=/etc/veil/apns_key.p8
APNS_KEY_ID=
APNS_TEAM_ID=
APNS_BUNDLE_ID=com.example.veil
FCM_SERVICE_ACCOUNT_PATH=/etc/veil/fcm_service_account.json

# ── Versioning ───────────────────────────────────────────
SERVER_VERSION=1.0.0
MIN_CLIENT_VERSION=1.0.0
